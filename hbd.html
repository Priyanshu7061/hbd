<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- Confetti elements -->
    <script>
        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.classList.add('confetti');
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.animationDuration = Math.random() * 2 + 1 + 's';
            confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
            document.body.appendChild(confetti);

            setTimeout(() => {
                confetti.remove();
            }, 3000);
        }

        setInterval(createConfetti, 100);
    </script>

    <div class="card w-full max-w-2xl p-6 md:p-10 text-center relative z-10 space-y-8">
        <h1 class="pacifico text-4xl md:text-6xl text-rose-500 mb-4">Happy Birthday Samiya!</h1>

        <div class="relative w-48 h-48 mx-auto rounded-full overflow-hidden mb-6">
             <!-- Placeholder Image for Sister -->
            <img src="sa.jpg" alt="Your Sister's Photo" class="w-full h-full object-cover">
            
            <script>
                // scope the onerror handler to this card's image only
                const cardImg = document.querySelector('.card img');
                if (cardImg) {
                    cardImg.onerror = function() { this.style.display = 'none'; };
                }
            </script>
        </div>

        <div id="message-container" class="message-container flex items-center justify-center">
            <p id="birthday-message" class="text-gray-700 text-lg md:text-xl message-box">
                Click the button below to reveal your special birthday message!
            </p>
            <!-- muted added to avoid autoplay being blocked during local testing; add type on source and remove invalid closing tag -->
            <audio class="song" loop autoplay muted>
                <source src="Aashiyan Barfi 128 Kbps-[AudioTrimmer.com].mp3" type="audio/mpeg">
                Your browser doesn't support the audio element.
            </audio>
        </div>

        <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4 mt-8">
            <button id="reveal-btn" class="bg-fuchsia-500 hover:bg-fuchsia-600 text-white font-bold py-3 px-6 rounded-full button-shadow transition-all duration-300 transform-gpu">
                Reveal Message
            </button>
            <button id="copy-btn" aria-label="Copy message" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-6 rounded-full button-shadow transition-all duration-300 transform-gpu hidden">
                Copy to Clipboard
            </button>
        </div>
    </div>

    <script>
        const messages = [
           " I hope your special day is filled with joy, and Iâ€™m sending you all my love for the year ahead. May your future be full of incredible blessings, amazing opportunities, and endless happiness. You truly deserve all the good things life has to offer. Enjoy your day and perform even better than your best in your board exams! And once again, have a wonderful birthday filled with love, blessings, and lots of cake! ðŸŒ¸ðŸ’–ðŸŽ‚"
        
        ];

        let messageRevealed = false;

        document.getElementById('reveal-btn').addEventListener('click', function() {
            if (messageRevealed) return;
            messageRevealed = true;
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            const messageElement = document.getElementById('birthday-message');
            
            messageElement.classList.add('popIn');
            messageElement.innerHTML = randomMessage;
            
            // Show the copy button
            const copyBtn = document.getElementById('copy-btn');
            copyBtn.classList.remove('hidden');

            this.style.display = 'none';
        });

        document.getElementById('copy-btn').addEventListener('click', function() {
            const messageText = document.getElementById('birthday-message').textContent;
            const tempInput = document.createElement('textarea');
            tempInput.value = messageText;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);

            // Change button text to indicate success
            this.textContent = 'Copied!';
            setTimeout(() => {
                this.textContent = 'Copy to Clipboard';
            }, 2000);
        });
    </script>
</body>
</html>
